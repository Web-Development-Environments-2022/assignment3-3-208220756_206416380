(()=>{"use strict";var e={6492:(e,t,r)=>{r.d(t,{Z:()=>b});var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.renderComponent?n("b-container",[n("b-alert",{attrs:{id:"alert",show:e.dismissCountDown,dismissible:"",variant:"success"},on:{dismissed:function(t){e.dismissCountDown=0},"dismiss-count-down":e.countDownChanged}},[e._v(" Recipe was added to favorite list successfully ")]),e.renderComponent?n("b-row",[e._l(e.recipes,(function(t){return n("b-col",{key:t.id,staticClass:"card"},[n("RecipePreview",{staticClass:"recipePreview",attrs:{recipe:t,title:e.title}}),"Random Recipes"==e.title||"Search Result"==e.title?n("div",{staticStyle:{"text-align":"right"}},[n("a",{attrs:{href:"!#"},on:{click:function(t){return e.showAlert()}}},[n("b-icon",{staticClass:"addFav",attrs:{icon:"heart-fill"},on:{click:function(r){return e.postFavoriteRecipes(t.id)}}})],1)]):n("div",{staticStyle:{"text-align":"left"},on:{click:function(r){return e.setDelete(t.id)}}},[n("img",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],staticStyle:{width:"20px"},attrs:{src:r(763)}})])],1)})),n("b-col",[n("div",[n("b-modal",{attrs:{id:"modal-1",title:"BootstrapVue"},on:{ok:e.handleOk}},[n("p",{staticClass:"my-4"},[e._v("Are you sure you want to remove this Recipe from favorite?")])])],1)])],2):e._e()],1):e._e()},i=[],s=r(4479),a=r(7673),o=r(6198),c=(r(2707),r(1058),r(4678),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("router-link",{staticClass:"recipe-preview",attrs:{to:{name:"recipe",params:{recipeId:e.recipe.id,title:e.title}}}},[r("div",{staticClass:"recipe-body"},["Private Recipes"==this.title||"Family Recipes"==this.title?r("img",{staticClass:"recipe-image",attrs:{src:this.image_src,alt:"Red dot"}}):e.image_load?r("img",{staticClass:"recipe-image",attrs:{src:e.recipe.image}}):e._e()]),r("div",{staticClass:"recipe-footer"},[r("strong",{staticStyle:{"font-size":"16px"}},[e._v(" recipe ")]),r("div",{staticClass:"recipe-title",attrs:{title:e.recipe.title}},[e._v(" "+e._s(e.recipe.title)+" ")]),r("div",{staticClass:"myFooter"},[r("ul",{staticClass:"recipe-overview "},[r("li",{staticStyle:{"text-align":"left"}},[e._v(e._s(e.recipe.readyInMinutes)+" minutes")]),"Family Recipes"!=e.title?r("div",{staticStyle:{"text-align":"left",color:"#f93f23"}},[e._v(e._s(e.recipe.popularity)+" "),r("p",{staticStyle:{float:"right",color:"rgb(104, 104, 104)","margin-left":"10px"}},[e._v(" likes")])]):e._e()])])])])}),l=[];const u={mounted:function(){var e=this;"Private Recipes"==this.title||"Family Recipes"==this.title?this.image_src="data:image/png;base64,"+this.recipe.image:this.axios.get(this.recipe.image).then((function(t){e.image_load=!0}))},data:function(){return{image_load:!1,image_src:"data:image/png;base64,"+this.recipe.image}},props:{recipe:{type:Object,required:!0},title:{type:String,required:!0}}},p=u;var d=r(1001),v=(0,d.Z)(p,c,l,!1,null,"64258170",null);const h=v.exports,f={name:"RecipePreviewList",components:{RecipePreview:h},props:{title:{type:String,required:!0},vertical:{type:Boolean,default:!1}},data:function(){return{recipes:[],dismissSecs:2,dismissCountDown:0,toDelete:"",renderComponent:!0}},mounted:function(){"Random Recipes"==this.title&&this.getRandomRecipes(),"Last Watched Recipes"==this.title&&this.getLastWatchedRecipes(),"Favorite Recipes"==this.title&&this.getFavoriteRecipes(),"Private Recipes"==this.title&&this.getPrivateRecipes(),"Family Recipes"==this.title&&this.getFamilyRecipes()},methods:{fill:function(e){console.log(e)},countDownChanged:function(e){this.dismissCountDown=e},showAlert:function(){this.dismissCountDown=this.dismissSecs},handleOk:function(){var e=this;return(0,o.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("Random Recipes"==e.title&&(e.deleteFavoriteRecipes(e.toDelete),e.getFavoriteRecipes()),"Private Recipes"!=e.title){t.next=6;break}return t.next=4,e.deletePrivateRecipes(e.toDelete);case 4:return t.next=6,e.getPrivateRecipes();case 6:if("Favorite Recipes"!=e.title){t.next=11;break}return t.next=9,e.deleteFavoriteRecipes(e.toDelete);case 9:return t.next=11,e.getFavoriteRecipes();case 11:if("Family Recipes"!=e.title){t.next=16;break}return t.next=14,e.deleteFamilyRecipes(e.toDelete);case 14:return t.next=16,e.getFamilyRecipes();case 16:return t.next=18,e.forceRerender();case 18:case"end":return t.stop()}}),t)})))()},setDelete:function(e){this.toDelete=e},forceRerender:function(){var e=this;return(0,o.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.renderComponent=!1,e.$nextTick((function(){e.renderComponent=!0}));case 2:case"end":return t.stop()}}),t)})))()},postFavoriteRecipes:function(e){var t=this;return(0,o.Z)((0,a.Z)().mark((function r(){return(0,a.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.axios.post("http://localhost:3000/users/favorites",{recipeId:e});case 3:r.sent,r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),console.log(r.t0);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()},getRandomRecipes:function(){var e=this;return(0,o.Z)((0,a.Z)().mark((function t(){var r,n,i;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get("http://localhost:3000/recipes/threeRandom");case 3:n=t.sent,i=n.data,e.recipes=[],(r=e.recipes).push.apply(r,(0,s.Z)(i)),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getFavoriteRecipes:function(){var e=this;return(0,o.Z)((0,a.Z)().mark((function t(){var r,n,i;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get("http://localhost:3000/users/favorites");case 3:n=t.sent,i=n.data,e.recipes=[],(r=e.recipes).push.apply(r,(0,s.Z)(i)),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getPrivateRecipes:function(){var e=this;return(0,o.Z)((0,a.Z)().mark((function t(){var r,n,i;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get("http://localhost:3000/users/privates");case 3:n=t.sent,i=n.data,e.recipes=[],(r=e.recipes).push.apply(r,(0,s.Z)(i)),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getFamilyRecipes:function(){var e=this;return(0,o.Z)((0,a.Z)().mark((function t(){var r,n,i;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get("http://localhost:3000/users/familyrecipes");case 3:n=t.sent,i=n.data,e.recipes=[],(r=e.recipes).push.apply(r,(0,s.Z)(i)),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getLastWatchedRecipes:function(){var e=this;return(0,o.Z)((0,a.Z)().mark((function t(){var r,n,i;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get("http://localhost:3000/users/watched");case 3:n=t.sent,i=n.data,e.recipes=[],(r=e.recipes).push.apply(r,(0,s.Z)(i)),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})))()},deleteFavoriteRecipes:function(e){var t=this;return(0,o.Z)((0,a.Z)().mark((function r(){return(0,a.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.axios["delete"]("http://localhost:3000/users/favorite",{data:{recipeId:e}});case 3:r.sent,r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),console.log(r.t0);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()},deletePrivateRecipes:function(e){var t=this;return(0,o.Z)((0,a.Z)().mark((function r(){return(0,a.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log("Hola"),r.prev=1,r.next=4,t.axios["delete"]("http://localhost:3000/users/private",{data:{recipeId:e}});case 4:r.sent,r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](1),console.log(r.t0);case 10:case"end":return r.stop()}}),r,null,[[1,7]])})))()},deleteFamilyRecipes:function(e){var t=this;return(0,o.Z)((0,a.Z)().mark((function r(){return(0,a.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.axios["delete"]("http://localhost:3000/users/family",{data:{recipeId:e}});case 3:r.sent,r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),console.log(r.t0);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()},searchQuery:function(e,t,r,n,i,s){var c=this;return(0,o.Z)((0,a.Z)().mark((function o(){var l,u,p;return(0,a.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return c.recipes=[],l=[],console.log(e,t,r,n),"ALL"==t&&(t=void 0),"None"==r&&(r=void 0),"None"==n&&(n=void 0),a.prev=6,a.next=9,c.axios.get("http://localhost:3000/recipes/search/",{params:{query:e,cusine:t,intolerance:n,diet:r,number:i}});case 9:if(u=a.sent,0!=u.data.length)for(p=0;p<u.data.length;p++)l.push(u.data[p]);return"Default"==s||("Prepare Time"==s?l.sort((function(e,t){return parseInt(e.readyInMinutes)-parseInt(t.readyInMinutes)})):l.sort((function(e,t){return parseFloat(e.popularity)-parseFloat(t.popularity)}))),c.recipes=l,a.abrupt("return");case 16:a.prev=16,a.t0=a["catch"](6),console.log(a.t0);case 19:case"end":return a.stop()}}),o,null,[[6,16]])})))()}}},m=f;var g=(0,d.Z)(m,n,i,!1,null,"1b5f0480",null);const b=g.exports},1758:(e,t,r)=>{r(6992),r(8674),r(9601),r(7727),r(9554),r(1539),r(4747);var n=r(144),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{attrs:{id:"nav"}},[r("router-link",{attrs:{to:{name:"main"}}},[e._v("Vue Recipes")]),e._v("| "),r("router-link",{attrs:{to:{name:"search"}}},[e._v("Search")]),e._v("| "),r("div",{attrs:{id:"user"}},[e.$root.store.username?r("span",[e._v(" "+e._s(e.$root.store.username)+" "),r("button",{on:{click:e.Logout}},[e._v("Logout")]),e._v("| "),r("b-dropdown",{attrs:{id:"dropdown-1",text:"Personal"}},[r("b-dropdown-item",{attrs:{href:"#/users/favorites"}},[e._v("Favorites")]),r("b-dropdown-item",{attrs:{href:"#/users/privates"}},[e._v("Privates")]),r("b-dropdown-item",{attrs:{href:"#/users/familyrecipes"}},[e._v("La Familia")])],1)],1):r("span",[e._v(" Guest: "),r("router-link",{attrs:{to:{name:"register"}}},[e._v("Register")]),e._v("| "),r("router-link",{attrs:{to:{name:"login"}}},[e._v("Login")]),e._v("| ")],1)])],1),r("router-view")],1)},s=[];const a={name:"App",methods:{Logout:function(){var e=this;this.$root.store.logout(),this.$root.toast("Logout","User logged out successfully","success"),this.$router.push("/")["catch"]((function(){e.$forceUpdate()}))}}},o=a;var c=r(1001),l=(0,c.Z)(o,i,s,!1,null,null,null);const u=l.exports;var p=r(1939),d=r.n(p),v=r(9669),h=r.n(v),f=(r(8783),r(3948),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("h1",{staticClass:"title"},[e._v("Main Page")]),r("table",{staticStyle:{width:"100%"}},[r("tr",{staticStyle:{width:"100%"}},[r("td",[r("RecipePreviewList",{staticClass:"RandomRecipes",attrs:{title:"Random Recipes"}})],1),r("td",[r("RecipePreviewList",{staticClass:"blur",attrs:{title:"Random Recipes"}})],1)])])])}),m=[],g=r(6492);const b={components:{RecipePreviewList:g.Z}},w=b;var y=(0,c.Z)(w,f,m,!1,null,"de585748",null);const x=y.exports;var R=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("h1",[e._v("Four Oh Four you didn't")]),r("router-link",{attrs:{to:"/",exact:""}},[e._v("ET Go Home")])],1)},_=[],k={},Z=(0,c.Z)(k,R,_,!1,null,null,null);const C=Z.exports;var F=[{path:"/",name:"main",component:x},{path:"/register",name:"register",component:function(){return r.e(632).then(r.bind(r,2632))}},{path:"/login",name:"login",component:function(){return r.e(38).then(r.bind(r,7038))}},{path:"/search",name:"search",component:function(){return r.e(818).then(r.bind(r,4818))}},{path:"/recipe/:recipeId",name:"recipe",component:function(){return r.e(619).then(r.bind(r,9619))}},{path:"/users/favorites",name:"favorites",component:function(){return r.e(145).then(r.bind(r,4145))}},{path:"/users/privates",name:"privates",component:function(){return r.e(855).then(r.bind(r,9855))}},{path:"/users/familyrecipes",name:"familyrecipes",component:function(){return r.e(341).then(r.bind(r,2341))}},{path:"*",name:"notFound",component:C}];const P=F;var S=r(8345),L=r(8620),D=(r(44),r(9259)),E=r(3017),O=r(508),j=r(7563),A=r(7419),T=r(1869),$=r(295),I=r(3090),N=r(5275),q=r(4063),M=r(8793),B=r(7772);n["default"].use(S.Z);var H=new S.Z({routes:P});n["default"].use(D.XG7),[O.E,j.w6,A.g,T.SY,$.xL,I.u3,N.v5,q.F,M.m$,B.A6].forEach((function(e){return n["default"].use(e)})),n["default"].use(L.ZP),h().interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),h().interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),n["default"].use(d(),h()),n["default"].use(E.X),n["default"].config.productionTip=!1;var G={username:localStorage.username,login:function(e){localStorage.setItem("username",e),this.username=e,console.log("login",this.username)},logout:function(){console.log("logout"),localStorage.removeItem("username"),this.username=void 0}};console.log(G),new n["default"]({router:H,data:function(){return{store:G}},methods:{toast:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.$bvToast.toast("".concat(t),{title:"".concat(e),toaster:"b-toaster-top-center",variant:r,solid:!0,appendToast:n,autoHideDelay:3e3})}},render:function(e){return e(u)}}).$mount("#app")},763:(e,t,r)=>{e.exports=r.p+"img/garbage.074ac836.png"}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.m=e,(()=>{var e=[];r.O=(t,n,i,s)=>{if(!n){var a=1/0;for(u=0;u<e.length;u++){for(var[n,i,s]=e[u],o=!0,c=0;c<n.length;c++)(!1&s||a>=s)&&Object.keys(r.O).every((e=>r.O[e](n[c])))?n.splice(c--,1):(o=!1,s<a&&(a=s));if(o){e.splice(u--,1);var l=i();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[n,i,s]}})(),(()=>{r.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return r.d(t,{a:t}),t}})(),(()=>{r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}})(),(()=>{r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[]))})(),(()=>{r.u=e=>"js/"+e+"."+{38:"2c1b3731",145:"b06dff33",341:"38e811c3",619:"2b5fca59",632:"dbbbfcba",818:"cf2aa3d6",855:"e4f095b2"}[e]+".js"})(),(()=>{r.miniCssF=e=>"css/"+e+"."+{38:"10e08128",145:"72e76667",341:"26ee0cf7",619:"1c5b77ba",632:"6422fc13",818:"99af485d",855:"046d2a63"}[e]+".css"})(),(()=>{r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="assignment-3-3:";r.l=(n,i,s,a)=>{if(e[n])e[n].push(i);else{var o,c;if(void 0!==s)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var p=l[u];if(p.getAttribute("src")==n||p.getAttribute("data-webpack")==t+s){o=p;break}}o||(c=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",t+s),o.src=n),e[n]=[i];var d=(t,r)=>{o.onerror=o.onload=null,clearTimeout(v);var i=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(r))),t)return t(r)},v=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),c&&document.head.appendChild(o)}}})(),(()=>{r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{r.p="/"})(),(()=>{var e=(e,t,r,n)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css";var s=s=>{if(i.onerror=i.onload=null,"load"===s.type)r();else{var a=s&&("load"===s.type?"missing":s.type),o=s&&s.target&&s.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=a,c.request=o,i.parentNode.removeChild(i),n(c)}};return i.onerror=i.onload=s,i.href=t,document.head.appendChild(i),i},t=(e,t)=>{for(var r=document.getElementsByTagName("link"),n=0;n<r.length;n++){var i=r[n],s=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(s===e||s===t))return i}var a=document.getElementsByTagName("style");for(n=0;n<a.length;n++){i=a[n],s=i.getAttribute("data-href");if(s===e||s===t)return i}},n=n=>new Promise(((i,s)=>{var a=r.miniCssF(n),o=r.p+a;if(t(a,o))return i();e(n,o,i,s)})),i={143:0};r.f.miniCss=(e,t)=>{var r={38:1,145:1,341:1,619:1,632:1,818:1,855:1};i[e]?t.push(i[e]):0!==i[e]&&r[e]&&t.push(i[e]=n(e).then((()=>{i[e]=0}),(t=>{throw delete i[e],t})))}})(),(()=>{var e={143:0};r.f.j=(t,n)=>{var i=r.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var s=new Promise(((r,n)=>i=e[t]=[r,n]));n.push(i[2]=s);var a=r.p+r.u(t),o=new Error,c=n=>{if(r.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var s=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}};r.l(a,c,"chunk-"+t,t)}},r.O.j=t=>0===e[t];var t=(t,n)=>{var i,s,[a,o,c]=n,l=0;if(a.some((t=>0!==e[t]))){for(i in o)r.o(o,i)&&(r.m[i]=o[i]);if(c)var u=c(r)}for(t&&t(n);l<a.length;l++)s=a[l],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(u)},n=self["webpackChunkassignment_3_3"]=self["webpackChunkassignment_3_3"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=r.O(void 0,[998],(()=>r(1758)));n=r.O(n)})();
//# sourceMappingURL=app.0b5d4ea3.js.map